<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro de usuarios</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
</head>
<body class="has-background-light">
        <section class="section">
            <input type="button" onclick="location.href='./integrantes.html'" value="Volver a Integrantes" class="button is-info">
            <input type="button" onclick="location.href='./index.html'" value="Volver al Menú" class="button is-info">
        </section>
      </div>
      <form id="userForm"> <!-- Añadida la ID al formulario -->
      <h1 class="title is-1 has-text-centered"><strong>Registro de usuarios</strong></h1> <!-- Negrilla añadida -->
      <p class="subtitle has-text-centered">Por favor, regístrese completando el formulario a continuación:</p>
      <table class="table is-bordered is-striped is-hoverable is-fullwidth">
        <thead>
          <tr>
            <th colspan="3" class="has-text-centered"><strong>chc_usuarios</strong></th> <!-- Negrilla añadida -->
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Nombre:</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><input type="text" class="input" maxlength="25"></td>
          </tr>
          <tr>
            <td><strong>Apellido:</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><input type="text" class="input" maxlength="25"></td>
          </tr>
          <tr>
            <td><strong>Fecha de Nacimiento:</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><input type="date" class="input" id="fechaNacimiento" onchange="calcularEdad()" required></td>
          </tr>
          <tr>
            <td><strong>Edad:</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><span id="edad"></span></td>
          </tr>
          <tr>
            <td><strong>Email:</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><input type="email" class="input" maxlength="120"></td>
          </tr>
          <tr>
            <td><strong>Usuario: VARCHAR (20)</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><input type="text" class="input" maxlength="20" minlength="10" pattern="[a-zA-Z0-9\s]+"></td>
          </tr>
          <tr>
            <td><strong>Confirmar usuario: VARCHAR (20)</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><input type="text" class="input" maxlength="20" minlength="10" pattern="[a-zA-Z0-9\s]+"></td>
          </tr>
          <tr>
            <td><strong>Paswd: TEXT</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><input type="password" class="input" maxlength="20" minlength="15"></td>
          </tr>
          <tr>
            <td><strong>Confirmar paswd: TEXT</strong></td> <!-- Negrilla añadida -->
            <td colspan="2"><input type="password" class="input" maxlength="20" minlength="15"></td>
          </tr>
          <tr>
            <td><strong>¿Ha sufrido de enfermedades?</strong></td> <!-- Negrilla añadida -->
            <td colspan="2">
              <div class="select">
                <select id="enfermedadesSelect" onchange="toggleEnfermedades()">
                  <option value="no">No</option>
                  <option value="si">Sí</option>
                </select>
              </div>
            </td>
          </tr>
          <tr id="enfermedadesDiv" style="display: none;">
            <td colspan="3">
              <input type="text" class="input" id="enfermedades" placeholder="Especifique las enfermedades">
            </td>
          </tr>

        </tbody>
      </table>
      <div class="field is-grouped is-grouped-centered">
        <p class="control">
          <button type="submit" class="button is-primary">Registrar</button>
        </p>
      </div>
    </form>
<br>

  <script>
     function calcularEdad() {
      var fechaNacimiento = new Date(document.getElementById("fechaNacimiento").value);
      var hoy = new Date();
      var edad = hoy.getFullYear() - fechaNacimiento.getFullYear();
      var mes = hoy.getMonth() - fechaNacimiento.getMonth();
      if (mes < 0 || (mes === 0 && hoy.getDate() < fechaNacimiento.getDate())) {
        edad--;
      }
      document.getElementById("edad").innerText = edad + " años";
    }

    function toggleEnfermedades() {
      var select = document.getElementById("enfermedadesSelect");
      var enfermedadesDiv = document.getElementById("enfermedadesDiv");
      if (select.value === "si") {
        enfermedadesDiv.style.display = "table-row";
      } else {
        enfermedadesDiv.style.display = "none";
      }
    }

    // Agrega aquí la validación de contraseña y cualquier otra validación necesaria en JavaScript

    // Ejemplo de validación de contraseña
    document.getElementById("userForm").addEventListener("submit", function(event) {
      var contrasena = document.getElementById("contrasena").value;
      var confirmarContrasena = document.getElementById("confirmarContrasena").value;
      if (contrasena !== confirmarContrasena) {
        alert("Las contraseñas no coinciden");
        event.preventDefault(); // Evita que el formulario se envíe si las contraseñas no coinciden
      }
    });
  </script>
</body>
</html>